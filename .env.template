# =============================================================================
# MT5 TRADING BOT - MULTI-USER SAAS CONFIGURATION
# =============================================================================
# This template is for the Multi-User SaaS version.
# Per-user webhook URLs are generated automatically when users log in via Google.
# =============================================================================
#
# IMPORTANT: Understanding the Security Keys
# -------------------------------------------
# This system uses TWO types of keys for different purposes:
#
# 1. SECRET_KEY (in this file)
#    - Used by Flask to encrypt session cookies
#    - Required for OAuth login to work
#    - Set once, never changes
#    - Same for all users
#
# 2. Webhook Tokens (in database, per-user)
#    - Generated automatically when user logs in via Google
#    - Stored in `user_tokens` table
#    - Each user gets their own unique token
#    - NOT configured in this file!
#
# =============================================================================

# =================== GOOGLE OAUTH (REQUIRED for Multi-User) ===================
# Get these from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials
#
# Steps:
# 1. Create a new project in Google Cloud Console
# 2. Enable Google+ API
# 3. Create OAuth 2.0 credentials (Web Application)
# 4. Add authorized redirect URI: http://localhost:5000/auth/google/callback
# 5. Copy Client ID and Client Secret below
#
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:5000/auth/google/callback

# =================== ADMIN ===================
# Email that will be automatically granted admin privileges on first login
# This user can see all accounts, all users, and manage the system
ADMIN_EMAIL=admin@yourdomain.com

# =================== SESSION ===================
# Session cookie security settings
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_SECURE=False
# Set to True in production with HTTPS

# =================== SECURITY ===================
# Flask SECRET_KEY - AUTO-GENERATED by setup.py
#
# This is NOT a webhook token! It's a SERVER-LEVEL key that:
# - Encrypts session cookies (so hackers can't read login state)
# - Signs CSRF tokens for form protection
# - Secures OAuth state parameter during Google login
#
# This key is generated ONCE when you run setup.py.
# You don't need to create this manually - setup.py does it for you.
#
# If you need to generate manually: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-will-be-auto-generated

# =================== SERVER ===================
EXTERNAL_BASE_URL=http://localhost:5000
PORT=5000
DEBUG=False

# =================== WEBHOOK SYSTEM (Multi-User) ===================
# NOTE: In Multi-User SaaS mode, webhook tokens are generated PER-USER
# when they log in via Google OAuth. The URL format is:
#   {EXTERNAL_BASE_URL}/webhook/{user_specific_token}
#
# Each user gets their own unique webhook token stored in the database.
# Tokens can be rotated via the dashboard: POST /auth/rotate-token
#
# The legacy WEBHOOK_TOKEN below is ONLY used for backward compatibility
# during migration. It will be deprecated in future versions.

# =================== LEGACY SETTINGS (Optional - Migration Only) ===================
# These settings are for backward compatibility during migration.
# They can be removed once all users have migrated to Google OAuth.
#
# BASIC_USER=admin
# BASIC_PASS=your_password
# WEBHOOK_TOKEN=legacy-webhook-token
#
# To disable legacy auth entirely, leave these commented out.

# =================== MT5 SETTINGS (Optional) ===================
# Only needed if running MT5 locally. Skip if using Remote EA mode.
# MT5_PATH=C:\Program Files\MetaTrader 5\terminal64.exe
# MT5_INSTANCES_DIR=mt5_instances
# MT5_PROFILE_SOURCE=

# =================== EMAIL NOTIFICATIONS (Optional) ===================
# Configure SMTP for email alerts (account offline, errors, etc.)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=your-email@gmail.com
# EMAIL_TO=alerts@yourdomain.com

# =================== RATE LIMITING ===================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT="100 per minute"

# =================== LOGGING ===================
LOG_LEVEL=INFO
LOG_FILE=trading_bot.log

